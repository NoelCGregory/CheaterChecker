(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{227:function(e,t,n){},228:function(e,t,n){},357:function(e,t){},359:function(e,t){},368:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(41),c=n.n(s),i=(n(227),n(36)),o=n(37),l=n(39),u=n(38),j=(n(228),n(152),n(46)),d=n(34),p=n(17),h=n.n(p),b=n(28),x=n(71),m=(n(229),x.a.initializeApp({apiKey:"AIzaSyAnCjLiWn_TkNnyKTpz_fYPn_04fNw4euk",authDomain:"isug12.firebaseapp.com",projectId:"isug12",storageBucket:"isug12.appspot.com",messagingSenderId:"732848655052",appId:"1:732848655052:web:b008c006d5697504f49069",measurementId:"G-YMG7W23CD7"})),f=x.a.firestore(),O=n(374),v=n(196),g=function(){var e=Object(b.a)(h.a.mark((function e(t){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("users").doc(t),e.next=3,n.get();case 3:if(e.sent.exists){e.next=8;break}return e.abrupt("return",!0);case 8:return e.abrupt("return",!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("users").doc(t),(r={role:null}).role=!!n,e.next=5,a.set(r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("users").doc(n),e.next=3,a.update(t);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),k=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=f.collection("classes").doc(t),e.next=4,a.update({students:x.a.firestore.FieldValue.arrayUnion(n)});case 4:N(t,n),e.next=10;break;case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n){return e.apply(this,arguments)}}(),C=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r,s,c,i,o,l,u,j,d,p;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("users").doc(t),e.next=3,n.get();case 3:if(a=e.sent,r=a.data(),void 0!=(s=r.Classes)){e.next=7;break}return e.abrupt("return",null);case 7:c=[],i=Object(v.a)(s),e.prev=9,i.s();case 11:if((o=i.n()).done){e.next=25;break}return l=o.value,u=f.collection("classes").doc(l),e.next=16,u.get();case 16:return j=e.sent,d=j.data(),e.next=20,I(d.owner);case 20:p=e.sent,d.ownerName=void 0!=p.nickname?p.nickname:"Not Available",c.push(d);case 23:e.next=11;break;case 25:e.next=30;break;case 27:e.prev=27,e.t0=e.catch(9),i.e(e.t0);case 30:return e.prev=30,i.f(),e.finish(30);case 33:return e.abrupt("return",c);case 34:case"end":return e.stop()}}),e,null,[[9,27,30,33]])})));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("users").doc(n),e.next=3,a.update({Classes:x.a.firestore.FieldValue.arrayUnion(t)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),I=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("users").doc(t),e.next=3,n.get();case 3:return a=e.sent,r=a.data(),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(b.a)(h.a.mark((function e(t,n){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.collection("assessment").doc(t),e.next=3,a.update({assessments:x.a.firestore.FieldValue.arrayUnion(n)});case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),A=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.collection("assessment").doc(t),e.next=3,n.get();case 3:return a=e.sent,e.abrupt("return",a.data());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),T=n(6),U=r.a.createContext(),D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={currentUser:null,loader:!0,status:null,sendUser:!1},e.style={display:"flex",justifyContent:"center",alignItems:"center",height:"75vh"},e.checkUser=Object(b.a)(h.a.mark((function t(){var n,a,r,s,c,i;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.currentUser,r=n.sendUser,s=e.props.history,null==a||0!=r){t.next=11;break}return t.next=5,g(a.uid);case 5:c=t.sent,i="",i=c?"/selectrole":"/",r=!0,s.push(i),e.setState({currentUser:a,sendUser:r});case 11:case"end":return t.stop()}}),t)}))),e.getRole=Object(b.a)(h.a.mark((function t(){var n,a,r,s;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.state,a=n.currentUser,r=n.status,null==a||null!=r){t.next=6;break}return t.next=4,I(a.uid);case 4:s=t.sent,e.setState({status:s});case 6:case"end":return t.stop()}}),t)}))),e}return Object(o.a)(n,[{key:"componentDidMount",value:function(){var e=this;m.auth().onAuthStateChanged((function(t){null!=t?e.setState({currentUser:t,loader:!1,status:null}):e.setState({currentUser:t,loader:!1})}))}},{key:"componentDidUpdate",value:function(){this.checkUser(),this.getRole()}},{key:"render",value:function(){var e=this.state,t=e.currentUser,n=e.loader,a=e.status;return n?Object(T.jsx)("div",{style:this.style,children:Object(T.jsx)(O.a,{size:"large",tip:"Loading..."})}):Object(T.jsx)(U.Provider,{value:{currentUser:t,status:a},children:this.props.children})}}]),n}(a.Component),z=Object(d.f)(D),R=(n(67),n(375)),M=n(380),H=n(376),F=n(379),B=n(91),P=n(150),L=n(382),E=n(383),_=n(384),W=n(385),q=R.a.Sider,G=P.a.SubMenu,K=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;Object(i.a)(this,n),(a=t.call(this,e)).onCollapse=function(e){a.setState({collapsed:e})};var r=!1;return console.log("dffd"),console.log(a.props),void 0!=a.props.state&&(r=a.props.state),a.state={collapsed:r},a}return Object(o.a)(n,[{key:"render",value:function(){var e=this.state.collapsed;return Object(T.jsxs)(q,{collapsible:!0,collapsed:e,onCollapse:this.onCollapse,children:[e?Object(T.jsx)("img",{className:"logosmall",src:"/logosmall.png"}):Object(T.jsx)("img",{className:"logo",src:"/logo.png"}),Object(T.jsxs)(P.a,{theme:"dark",defaultSelectedKeys:["1"],mode:"inline",children:[Object(T.jsx)(P.a.Item,{icon:Object(T.jsx)(L.a,{}),children:Object(T.jsx)(j.b,{to:{pathname:"/",state:e},children:"Home"})},"1"),Object(T.jsx)(P.a.Item,{icon:Object(T.jsx)(E.a,{}),children:Object(T.jsx)(j.b,{to:{pathname:"/classes",state:e},children:"Classes"})},"2"),Object(T.jsxs)(G,{icon:Object(T.jsx)(_.a,{}),title:"User",children:[Object(T.jsx)(P.a.Item,{children:"Tom"},"3"),Object(T.jsx)(P.a.Item,{children:"Bill"},"4"),Object(T.jsx)(P.a.Item,{children:"Alex"},"5")]},"sub1"),Object(T.jsxs)(G,{icon:Object(T.jsx)(W.a,{}),title:"Team",children:[Object(T.jsx)(P.a.Item,{children:"Team 1"},"6"),Object(T.jsx)(P.a.Item,{children:"Team 2"},"8")]},"sub2")]})]})}}]),n}(a.Component),J=R.a.Footer,V=function(){return Object(T.jsx)(J,{style:{textAlign:"center"},children:"CheaterChecker \xa92021 Created by Noel Gregory"})},Y=F.a.Search,Q=R.a.Header,X=function(){return Object(T.jsxs)(Q,{className:"site-layout-background",style:{padding:0},children:[" ",Object(T.jsx)(Y,{className:"search",placeholder:"input search text",enterButton:"Search",size:"large"}),Object(T.jsx)(B.a,{size:"large",style:{float:"right",margin:"10px"},onClick:function(){return m.auth().signOut()},type:"primary",children:"Sign out"})]})},Z=R.a.Content,$=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).generateCode=function(){for(var e="qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP",t="",n=0;n<5;n++){t+=e[Math.floor(Math.random()*e.length)]}return t},e.addToClass=function(){var t=Object(b.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.context.currentUser,null==n){t.next=6;break}return t.next=4,k(n.code,a.uid);case 4:void 0!=t.sent&&alert("This Class Does Not Exist");case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.onChange=function(t){e.setState({value:t.target.value})},e}return Object(o.a)(n,[{key:"render",value:function(){var e=this.context.status;return Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(K,{state:this.props.location.state}),Object(T.jsxs)(R.a,{className:"site-layout",children:[Object(T.jsx)(X,{}),Object(T.jsxs)(Z,{style:{margin:"0 16px"},children:[Object(T.jsxs)(M.a,{style:{margin:"16px 0"},children:[Object(T.jsx)(M.a.Item,{children:"User"}),Object(T.jsx)(M.a.Item,{children:"Bill"})]}),Object(T.jsx)("div",{className:"site-layout-background",style:{padding:24,minHeight:360},children:null!=e?1==e.role?Object(T.jsx)("div",{children:Object(T.jsx)("h3",{children:"Teacher"})}):Object(T.jsxs)("div",{children:[Object(T.jsx)("h3",{children:"Student"}),Object(T.jsxs)(H.a,{onFinish:this.addToClass,name:"dynamic_rule",children:[Object(T.jsx)(H.a.Item,{name:"code",label:"Name",rules:[{required:!0,message:"Please input code"}],children:Object(T.jsx)(F.a,{className:"infoInput",placeholder:"Please input code",onChange:this.onChange})}),Object(T.jsx)(H.a.Item,{children:Object(T.jsx)(B.a,{type:"primary",htmlType:"submit",children:"Join Class"})})]})]}):""})]}),Object(T.jsx)(V,{})]})]})}}]),n}(a.Component);$.contextType=U;var ee=$,te=n(215),ne=R.a.Header,ae=function(){return Object(T.jsxs)(ne,{children:[Object(T.jsx)("img",{className:"logoNavbar",src:"/logo.png"}),Object(T.jsxs)(P.a,{theme:"dark",mode:"horizontal",defaultSelectedKeys:["2"],children:[Object(T.jsx)(P.a.Item,{children:"Home"},"1"),Object(T.jsx)(P.a.Item,{children:"About"},"2")]})]})},re=n(378),se=R.a.Content,ce=(re.a.Step,function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).googleLogin=Object(b.a)(h.a.mark((function e(){var t;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=new te.a.auth.GoogleAuthProvider,m.auth().signInWithRedirect(t);case 2:case"end":return e.stop()}}),e)}))),e}return Object(o.a)(n,[{key:"render",value:function(){return Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(ae,{}),Object(T.jsx)(se,{style:{padding:"5vh"},children:Object(T.jsxs)("div",{className:"site-layout-content",children:[Object(T.jsx)("h1",{children:"Log in"}),Object(T.jsxs)("button",{type:"button",onClick:this.googleLogin,class:"google-button",children:[Object(T.jsx)("span",{class:"google-button__icon",children:Object(T.jsxs)("svg",{viewBox:"0 0 366 372",xmlns:"http://www.w3.org/2000/svg",children:[Object(T.jsx)("path",{d:"M125.9 10.2c40.2-13.9 85.3-13.6 125.3 1.1 22.2 8.2 42.5 21 59.9 37.1-5.8 6.3-12.1 12.2-18.1 18.3l-34.2 34.2c-11.3-10.8-25.1-19-40.1-23.6-17.6-5.3-36.6-6.1-54.6-2.2-21 4.5-40.5 15.5-55.6 30.9-12.2 12.3-21.4 27.5-27 43.9-20.3-15.8-40.6-31.5-61-47.3 21.5-43 60.1-76.9 105.4-92.4z",id:"Shape",fill:"#EA4335"}),Object(T.jsx)("path",{d:"M20.6 102.4c20.3 15.8 40.6 31.5 61 47.3-8 23.3-8 49.2 0 72.4-20.3 15.8-40.6 31.6-60.9 47.3C1.9 232.7-3.8 189.6 4.4 149.2c3.3-16.2 8.7-32 16.2-46.8z",id:"Shape",fill:"#FBBC05"}),Object(T.jsx)("path",{d:"M361.7 151.1c5.8 32.7 4.5 66.8-4.7 98.8-8.5 29.3-24.6 56.5-47.1 77.2l-59.1-45.9c19.5-13.1 33.3-34.3 37.2-57.5H186.6c.1-24.2.1-48.4.1-72.6h175z",id:"Shape",fill:"#4285F4"}),Object(T.jsx)("path",{d:"M81.4 222.2c7.8 22.9 22.8 43.2 42.6 57.1 12.4 8.7 26.6 14.9 41.4 17.9 14.6 3 29.7 2.6 44.4.1 14.6-2.6 28.7-7.9 41-16.2l59.1 45.9c-21.3 19.7-48 33.1-76.2 39.6-31.2 7.1-64.2 7.3-95.2-1-24.6-6.5-47.7-18.2-67.6-34.1-20.9-16.6-38.3-38-50.4-62 20.3-15.7 40.6-31.5 60.9-47.3z",fill:"#34A853"})]})}),Object(T.jsx)("span",{class:"google-button__text",children:"Sign in with Google"})]})]})}),Object(T.jsx)(V,{})]})}}]),n}(a.Component));ce.contextType=U;var ie=ce,oe=n(126),le=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(T.jsx)(oe.d,{className:"mt-5 text-center",children:Object(T.jsx)(oe.i,{children:Object(T.jsx)(oe.c,{})})})}}]),n}(a.Component),ue=R.a.Content,je=re.a.Step,de=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).selectRole=function(){var t=Object(b.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=e.context.currentUser,"teacher"!=n){t.next=6;break}return t.next=4,y(a.uid,!0);case 4:t.next=8;break;case 6:return t.next=8,y(a.uid,!1);case 8:e.props.history.push("/extrainfo");case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(ae,{}),Object(T.jsx)(ue,{style:{padding:"5vh"},children:Object(T.jsxs)("div",{className:"site-layout-content",children:[Object(T.jsxs)(re.a,{size:"small",current:1,children:[Object(T.jsx)(je,{title:"Login"}),Object(T.jsx)(je,{title:"Select Role"}),Object(T.jsx)(je,{title:"Extra Info"})]}),Object(T.jsx)(B.a,{size:"large",style:{float:"center",margin:"10px"},onClick:function(){return e.selectRole("student")},type:"primary",children:"Student"}),Object(T.jsx)(B.a,{size:"large",style:{float:"center",margin:"10px"},onClick:function(){return e.selectRole("teacher")},type:"primary",children:"Teacher"})]})}),Object(T.jsx)(V,{})]})}}]),n}(a.Component);de.contextType=U;var pe=de,he=n(127),be=n(220),xe=function(e){var t=e.component,n=Object(be.a)(e,["component"]),r=Object(a.useContext)(U).currentUser;return Object(T.jsx)(d.b,Object(he.a)(Object(he.a)({},n),{},{render:function(e){return r?Object(T.jsx)(t,Object(he.a)({},e)):Object(T.jsx)(d.a,{to:"/main"})}}))},me=n(386),fe=R.a.Content,Oe=re.a.Step,ve=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).getFormData=function(){var t=Object(b.a)(h.a.mark((function t(n){var a;return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),a=e.context.currentUser,t.next=4,w(n,a.uid);case 4:e.props.history.push("/");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(o.a)(n,[{key:"render",value:function(){var e=this;return Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(ae,{}),Object(T.jsx)(fe,{style:{padding:"5vh"},children:Object(T.jsxs)("div",{className:"site-layout-content",children:[Object(T.jsxs)(re.a,{size:"small",current:2,children:[Object(T.jsx)(Oe,{title:"Login"}),Object(T.jsx)(Oe,{title:"Select Role"}),Object(T.jsx)(Oe,{title:"Extra Info"})]}),Object(T.jsxs)(H.a,{layout:"vertical",onFinish:this.getFormData,children:[Object(T.jsx)(H.a.Item,{label:"Nickname",className:"info",name:"nickname",required:!0,tooltip:"This is a required field",children:Object(T.jsx)(F.a,{className:"infoInput",placeholder:"input placeholder"})}),Object(T.jsx)(H.a.Item,{label:"Status Info",name:"status",className:"info",tooltip:{title:"Tooltip with customize icon",icon:Object(T.jsx)(me.a,{})},children:Object(T.jsx)(F.a,{className:"infoInput",placeholder:"input placeholder"})}),Object(T.jsxs)(H.a.Item,{className:"info",children:[Object(T.jsx)(B.a,{htmlType:"submit",type:"primary",children:"Submit"}),Object(T.jsx)(B.a,{style:{float:"center",margin:"10px"},onClick:function(){return e.props.history.push("/")},type:"primary",children:"Skip"})]})]})]})}),Object(T.jsx)(V,{})]})}}]),n}(a.Component);ve.contextType=U;var ge=ve,ye=n(377),we=n(221),ke=R.a.Content,Ce=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).generateCode=function(){for(var e="qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP",t="",n=0;n<5;n++){t+=e[Math.floor(Math.random()*e.length)]}return t},a.createClass=function(e){var t=a.context.currentUser;!function(e,t,n){var a={classCode:e,className:t,owner:n,students:null};f.collection("classes").doc(e).set(a),f.collection("assessment").doc(e).set({className:t,assessments:[]}),N(e,n)}(a.generateCode(),e.className,t.uid),a.getClass()},a.getClass=Object(b.a)(h.a.mark((function e(){var t,n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.context.currentUser,e.next=3,C(t.uid);case 3:null==(n=e.sent)&&(n=!1),a.setState({classes:n});case 6:case"end":return e.stop()}}),e)}))),a.renderClass=function(e){a.context.status;return 0==e?Object(T.jsx)("h2",{children:"No Class"}):e.map((function(e,t){return Object(T.jsx)(ye.a,{className:"customCard",type:"inner",title:e.className,extra:Object(T.jsx)(j.b,{to:{pathname:"/assessment",state:{val:e,collapse:a.props.location.state}},children:"Assessment"}),children:e.ownerName},t)}))},a.getRole=function(){var e=a.context.status;if(null!=e)return e.role?Object(T.jsxs)("div",{children:[" ",Object(T.jsx)(ye.a,{className:"customCard",type:"inner",title:"Add Class",children:Object(T.jsxs)(H.a,{onFinish:a.createClass,layout:"inline",name:"dynamic_rule",children:[Object(T.jsx)(H.a.Item,{name:"className",rules:[{required:!0,message:"Please input Class Name"}],children:Object(T.jsx)(F.a,{className:"infoInput",placeholder:"Please input Class Name"})}),Object(T.jsx)(H.a.Item,{children:Object(T.jsx)(B.a,{className:"addButton",htmlType:"submit",type:"primary",shape:"circle",icon:Object(T.jsx)(we.a,{})})})]})},"add"),"Teacher"]}):Object(T.jsx)("div",{children:"Student"})},a.state={classes:void 0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getClass()}},{key:"render",value:function(){var e=this.state.classes;return console.log(e),Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(K,{state:this.props.location.state}),Object(T.jsxs)(R.a,{className:"site-layout",children:[Object(T.jsx)(X,{}),Object(T.jsx)(ke,{style:{margin:"0 16px"},children:Object(T.jsxs)(ye.a,{title:"Classes",children:[void 0==e?Object(T.jsx)("div",{className:"loader",children:Object(T.jsx)(O.a,{size:"large",tip:"Loading..."})}):this.renderClass(e),this.getRole()]})}),Object(T.jsx)(V,{})]})]})}}]),n}(a.Component);Ce.contextType=U;var Ne=Ce,Ie=R.a.Content,Se=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(i.a)(this,n),(a=t.call(this,e)).getAllAssessment=Object(b.a)(h.a.mark((function e(){var t,n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state.classInfo,n=t.classCode,e.next=4,A(n);case 4:null==(r=e.sent)&&(r=!1),a.setState({assessments:r});case 7:case"end":return e.stop()}}),e)}))),a.createAssessment=function(){var e=Object(b.a)(h.a.mark((function e(t){var n,r;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.state.classInfo,r=n.classCode,e.next=4,S(r,t.assessmentName);case 4:e.sent,a.getAllAssessment();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.renderAssessments=function(){var e=a.state.assessments;return null==e?null:e.assessments.map((function(e,t){return Object(T.jsx)(ye.a,{className:"customCard",type:"inner",title:e,children:e},t)}))},a.getRole=function(){var e=a.context.status;if(null!=e)return e.role?Object(T.jsxs)("div",{children:[" ",Object(T.jsx)(ye.a,{className:"customCard",type:"inner",title:"Add Assessment",children:Object(T.jsxs)(H.a,{onFinish:a.createAssessment,layout:"inline",name:"dynamic_rule",children:[Object(T.jsx)(H.a.Item,{name:"assessmentName",rules:[{required:!0,message:"Please input Assessment Name"}],children:Object(T.jsx)(F.a,{className:"infoInput",placeholder:"Please input Assessment Name"})}),Object(T.jsx)(H.a.Item,{children:Object(T.jsx)(B.a,{className:"addButton",htmlType:"submit",type:"primary",shape:"circle",icon:Object(T.jsx)(we.a,{})})})]})},"add"),"Teacher"]}):Object(T.jsx)("div",{children:"Student"})},a.state={classInfo:a.props.location.state.val,assessments:void 0},a}return Object(o.a)(n,[{key:"componentDidMount",value:function(){this.getAllAssessment()}},{key:"render",value:function(){var e=this.state.assessments;return Object(T.jsxs)(R.a,{style:{minHeight:"100vh"},children:[Object(T.jsx)(K,{state:this.props.location.state.collapse}),Object(T.jsxs)(R.a,{className:"site-layout",children:[Object(T.jsx)(X,{}),Object(T.jsx)(Ie,{style:{margin:"0 16px"},children:Object(T.jsxs)(ye.a,{title:"Classes",children:[void 0==e?Object(T.jsx)("div",{className:"loader",children:Object(T.jsx)(O.a,{size:"large",tip:"Loading..."})}):this.renderAssessments(),this.getRole()]})}),Object(T.jsx)(V,{})]})]})}}]),n}(a.Component);Se.contextType=U;var Ae,Te,Ue=Se,De=n(381),ze=function(e){return Object(T.jsx)("button",{onClick:function(){var t=Object(De.a)();e.history.push("/room/".concat(t))},children:"Create room"})},Re=n(216),Me=n(217),He=n(147),Fe=n(212),Be=n.n(Fe),Pe=n(148),Le=n.n(Pe),Ee=n(149),_e=Ee.a.div(Ae||(Ae=Object(He.a)(["\n  padding: 20px;\n  display: flex;\n  height: 100vh;\n  width: 90%;\n  margin: auto;\n  flex-wrap: wrap;\n"]))),We=Ee.a.video(Te||(Te=Object(He.a)(["\n  height: 40%;\n  width: 50%;\n"]))),qe=function(e){var t=Object(a.useRef)();return Object(a.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),Object(T.jsx)(We,{playsInline:!0,autoPlay:!0,ref:t})},Ge=(window.innerHeight,window.innerWidth,function(e){var t=Object(a.useState)([]),n=Object(Me.a)(t,2),r=n[0],s=n[1],c=Object(a.useRef)(),i=Object(a.useRef)(),o=Object(a.useRef)([]),l=e.match.params.roomID;return Object(a.useEffect)((function(){c.current=Be.a.connect("/"),navigator.mediaDevices.getDisplayMedia({cursor:!0}).then((function(e){i.current.srcObject=e,c.current.emit("join room",l),c.current.on("all users",(function(t){var n=[];t.forEach((function(t){var a=function(e,t,n){var a=new Le.a({initiator:!0,trickle:!1,stream:n});return a.on("signal",(function(n){c.current.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),a}(t,c.current.id,e);o.current.push({peerID:t,peer:a}),n.push(a)})),s(n)})),c.current.on("user joined",(function(t){var n=function(e,t,n){var a=new Le.a({initiator:!1,trickle:!1,stream:n});return a.on("signal",(function(e){c.current.emit("returning signal",{signal:e,callerID:t})})),a.signal(e),a}(t.signal,t.callerID,e);o.current.push({peerID:t.callerID,peer:n}),s((function(e){return[].concat(Object(Re.a)(e),[n])}))})),c.current.on("receiving returned signal",(function(e){o.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),Object(T.jsxs)(_e,{children:[Object(T.jsx)(We,{muted:!0,ref:i,autoPlay:!0,playsInline:!0}),r.map((function(e,t){return Object(T.jsx)(qe,{peer:e},t)}))]})}),Ke=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),s=0;s<a;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).state={},e}return Object(o.a)(n,[{key:"render",value:function(){return Object(T.jsx)(j.a,{children:Object(T.jsxs)(z,{children:[Object(T.jsx)(xe,{exact:!0,path:"/",component:ee}),Object(T.jsx)(xe,{exact:!0,path:"/classes",component:Ne}),Object(T.jsx)(d.b,{exact:!0,path:"/assessment",component:Ue}),Object(T.jsx)(d.b,{exact:!0,path:"/login",component:ie}),Object(T.jsx)(d.b,{exact:!0,path:"/main",component:le}),Object(T.jsx)(d.b,{exact:!0,path:"/selectrole",component:pe}),Object(T.jsx)(d.b,{exact:!0,path:"/extrainfo",component:ge}),Object(T.jsx)(d.b,{path:"/t",exact:!0,component:ze}),Object(T.jsx)(d.b,{path:"/room/:roomID",component:Ge})]})})}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(Object(T.jsx)(Ke,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},67:function(e,t,n){}},[[368,1,2]]]);
//# sourceMappingURL=main.e54bfa0c.chunk.js.map