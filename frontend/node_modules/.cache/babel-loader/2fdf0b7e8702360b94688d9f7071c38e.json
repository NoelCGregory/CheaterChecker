{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Noel\\\\Desktop\\\\Javascript\\\\Node.js\\\\CheaterChecker\\\\frontend\\\\src\\\\components\\\\Home.js\";\nimport React, { Component } from \"react\";\nimport { AuthContext } from \"../utils/Auth\";\nimport { app } from \"../utils/base\";\nimport { getUserRole, addClass, joinClass } from \"../utils/Firestore\";\nimport \"./ui.css\";\nimport { Layout, Breadcrumb, Input, Button } from \"antd\";\nimport SiderBar from \"./sideBar\";\nimport FooterPage from \"./footer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  Search\n} = Input;\nconst {\n  Header,\n  Content\n} = Layout;\n\nclass Home extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      status: null,\n      value: null\n    };\n\n    this.generateCode = () => {\n      const str = \"qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP\";\n      let genStr = \"\";\n\n      for (let i = 0; i < 5; i++) {\n        const randomIndex = Math.floor(Math.random() * str.length);\n        genStr += str[randomIndex];\n      }\n\n      addClass(genStr);\n    };\n\n    this.addToClass = () => {\n      const {\n        currentUser\n      } = this.context;\n      joinClass(this.state.value, currentUser.uid);\n    };\n\n    this.getRole = async () => {\n      const {\n        currentUser\n      } = this.context;\n      const data = await getUserRole(currentUser.uid);\n      this.setState({\n        status: data\n      });\n    };\n\n    this.onChange = e => {\n      this.setState({\n        value: e.target.value\n      });\n    };\n  }\n\n  componentDidMount() {\n    this.getRole();\n  }\n\n  render() {\n    const {\n      status\n    } = this.state;\n    let role = true;\n    console.log(status);\n    console.log(status.role);\n    return /*#__PURE__*/_jsxDEV(Layout, {\n      style: {\n        minHeight: \"100vh\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(SiderBar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Layout, {\n        className: \"site-layout\",\n        children: [/*#__PURE__*/_jsxDEV(Header, {\n          className: \"site-layout-background\",\n          style: {\n            padding: 0\n          },\n          children: [\" \", /*#__PURE__*/_jsxDEV(Search, {\n            className: \"search\",\n            placeholder: \"input search text\",\n            enterButton: \"Search\",\n            size: \"large\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            size: \"large\",\n            style: {\n              float: \"right\",\n              margin: \"10px\"\n            },\n            onClick: () => app.auth().signOut(),\n            type: \"primary\",\n            children: \"Sign out\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Content, {\n          style: {\n            margin: \"0 16px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(Breadcrumb, {\n            style: {\n              margin: \"16px 0\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n              children: \"User\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 79,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Breadcrumb.Item, {\n              children: \"Bill\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"site-layout-background\",\n            style: {\n              padding: 24,\n              minHeight: 360\n            },\n            children: role != null ? role == true ? /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Teacher\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: this.generateCode,\n                children: \"Generate code\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"Student\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 19\n            }, this) : \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(FooterPage, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nHome.contextType = AuthContext;\nexport default Home; // <Form name=\"dynamic_rule\">\n// <Form.Item\n//   name=\"username\"\n//   label=\"Name\"\n//   rules={[\n//     {\n//       required: true,\n//       message: \"Please input code\",\n//     },\n//   ]}\n// >\n//   <Input\n//     placeholder=\"Please input code\"\n//     value={this.state.someVal || \"\"}\n//     onChange={this.onChange}\n//   />\n// </Form.Item>\n// <Form.Item>\n//   <Button\n//     onClick={() => this.addToClass()}\n//     type=\"primary\"\n//   >\n//     Join Class\n//   </Button>\n// </Form.Item>\n// </Form>\n// import React, { Component } from \"react\";\n// import { AuthContext } from \"../utils/Auth\";\n// import { app } from \"../utils/base\";\n// import { getUserRole, addClass, joinClass } from \"../utils/Firestore\";\n// import \"antd/dist/antd.css\";\n// import \"./ui.css\";\n// import { Layout, Menu, Breadcrumb, Input, Form, Button } from \"antd\";\n// import {\n//   DesktopOutlined,\n//   PieChartOutlined,\n//   FileOutlined,\n//   TeamOutlined,\n//   UserOutlined,\n// } from \"@ant-design/icons\";\n// const { Search } = Input;\n// const { Header, Content, Footer, Sider } = Layout;\n// const { SubMenu } = Menu;\n// class Home extends Component {\n//   static contextType = AuthContext;\n//   state = {\n//     collapsed: false,\n//     role: null,\n//     value: null,\n//   };\n//   generateCode = () => {\n//     const str =\n//       \"qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP\";\n//     let genStr = \"\";\n//     for (let i = 0; i < 5; i++) {\n//       const randomIndex = Math.floor(Math.random() * str.length);\n//       genStr += str[randomIndex];\n//     }\n//     addClass(genStr);\n//   };\n//   addToClass = () => {\n//     const { currentUser } = this.context;\n//     joinClass(this.state.value, currentUser.uid);\n//   };\n//   getRole = async () => {\n//     const { currentUser } = this.context;\n//     const data = await getUserRole(currentUser.uid);\n//     this.setState({ role: data });\n//   };\n//   componentDidMount() {\n//     this.getRole();\n//   }\n//   onCollapse = (collapsed) => {\n//     console.log(collapsed);\n//     this.setState({ collapsed });\n//   };\n//   onChange = (e) => {\n//     this.setState({ value: e.target.value });\n//   };\n//   render() {\n//     const { collapsed, role } = this.state;\n//     console.log(role);\n//     return (\n//       <Layout style={{ minHeight: \"100vh\" }}>\n//         <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\n//           {collapsed ? (\n//             <img className=\"logosmall\" src=\"/logosmall.png\"></img>\n//           ) : (\n//             <img className=\"logo\" src=\"/logo.png\"></img>\n//           )}\n//           <Menu theme=\"dark\" defaultSelectedKeys={[\"1\"]} mode=\"inline\">\n//             <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n//               Option 1\n//             </Menu.Item>\n//             <Menu.Item key=\"2\" icon={<DesktopOutlined />}>\n//               Option 2\n//             </Menu.Item>\n//             <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\n//               <Menu.Item key=\"3\">Tom</Menu.Item>\n//               <Menu.Item key=\"4\">Bill</Menu.Item>\n//               <Menu.Item key=\"5\">Alex</Menu.Item>\n//             </SubMenu>\n//             <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\n//               <Menu.Item key=\"6\">Team 1</Menu.Item>\n//               <Menu.Item key=\"8\">Team 2</Menu.Item>\n//             </SubMenu>\n//             <Menu.Item key=\"9\" icon={<FileOutlined />}>\n//               bkh\n//             </Menu.Item>\n//           </Menu>\n//         </Sider>\n//         <Layout className=\"site-layout\">\n//           <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n//             {\" \"}\n//             <Search\n//               className=\"search\"\n//               placeholder=\"input search text\"\n//               enterButton=\"Search\"\n//               size=\"large\"\n//             />\n//             <Button\n//               size=\"large\"\n//               style={{ float: \"right\", margin: \"10px\" }}\n//               onClick={() => app.auth().signOut()}\n//               type=\"primary\"\n//             >\n//               Sign out\n//             </Button>\n//           </Header>\n//           <Content style={{ margin: \"0 16px\" }}>\n//             <Breadcrumb style={{ margin: \"16px 0\" }}>\n//               <Breadcrumb.Item>User</Breadcrumb.Item>\n//               <Breadcrumb.Item>Bill</Breadcrumb.Item>\n//             </Breadcrumb>\n//             <div\n//               className=\"site-layout-background\"\n//               style={{ padding: 24, minHeight: 360 }}\n//             >\n//               {role != null ? (\n//                 role == true ? (\n//                   <div>\n//                     <h3>Teacher</h3>\n//                     <button onClick={this.generateCode}>Generate code</button>\n//                   </div>\n//                 ) : (\n//                   <div>\n//                     <h3>Student</h3>\n//                     <Form name=\"dynamic_rule\">\n//                       <Form.Item\n//                         name=\"username\"\n//                         label=\"Name\"\n//                         rules={[\n//                           {\n//                             required: true,\n//                             message: \"Please input code\",\n//                           },\n//                         ]}\n//                       >\n//                         <Input\n//                           placeholder=\"Please input code\"\n//                           value={this.state.someVal || \"\"}\n//                           onChange={this.onChange}\n//                         />\n//                       </Form.Item>\n//                       <Form.Item>\n//                         <Button\n//                           onClick={() => this.addToClass()}\n//                           type=\"primary\"\n//                         >\n//                           Join Class\n//                         </Button>\n//                       </Form.Item>\n//                     </Form>\n//                   </div>\n//                 )\n//               ) : (\n//                 \"\"\n//               )}\n//             </div>\n//           </Content>\n//           <Footer style={{ textAlign: \"center\" }}>\n//             Ant Design ©2018 Created by Ant UED\n//           </Footer>\n//         </Layout>\n//       </Layout>\n//     );\n//   }\n// }\n// export default Home;\n// const Home = () => {\n//   const { currentUser } = useContext(AuthContext);\n//   const [role, setRole] = useState(null);\n//   if (!currentUser) {\n//     return <Redirect to=\"/login\" />;\n//   }\n//   const getData = () => {\n//     setRole(getUserRole(currentUser.uid));\n//   };\n//   getData();\n//   console.log(role);\n//   return (\n//     <>\n//       <h1>Home</h1>\n//       {currentUser.email}\n//       <button onClick={() => app.auth().signOut()}>Sign out</button>\n//     </>\n//   );\n// };\n// export default Home;","map":{"version":3,"sources":["C:/Users/Noel/Desktop/Javascript/Node.js/CheaterChecker/frontend/src/components/Home.js"],"names":["React","Component","AuthContext","app","getUserRole","addClass","joinClass","Layout","Breadcrumb","Input","Button","SiderBar","FooterPage","Search","Header","Content","Home","state","status","value","generateCode","str","genStr","i","randomIndex","Math","floor","random","length","addToClass","currentUser","context","uid","getRole","data","setState","onChange","e","target","componentDidMount","render","role","console","log","minHeight","padding","float","margin","auth","signOut","contextType"],"mappings":"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CA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA","sourcesContent":["import React, { Component } from \"react\";\nimport { AuthContext } from \"../utils/Auth\";\nimport { app } from \"../utils/base\";\nimport { getUserRole, addClass, joinClass } from \"../utils/Firestore\";\nimport \"./ui.css\";\nimport { Layout, Breadcrumb, Input, Button } from \"antd\";\nimport SiderBar from \"./sideBar\";\nimport FooterPage from \"./footer\";\n\nconst { Search } = Input;\n\nconst { Header, Content } = Layout;\n\nclass Home extends Component {\n  static contextType = AuthContext;\n  state = {\n    status: null,\n    value: null,\n  };\n\n  generateCode = () => {\n    const str =\n      \"qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP\";\n    let genStr = \"\";\n    for (let i = 0; i < 5; i++) {\n      const randomIndex = Math.floor(Math.random() * str.length);\n      genStr += str[randomIndex];\n    }\n    addClass(genStr);\n  };\n\n  addToClass = () => {\n    const { currentUser } = this.context;\n    joinClass(this.state.value, currentUser.uid);\n  };\n\n  getRole = async () => {\n    const { currentUser } = this.context;\n    const data = await getUserRole(currentUser.uid);\n    this.setState({ status: data });\n  };\n\n  componentDidMount() {\n    this.getRole();\n  }\n\n  onChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  render() {\n    const { status } = this.state;\n    let role = true;\n    console.log(status);\n    console.log(status.role);\n    return (\n      <Layout style={{ minHeight: \"100vh\" }}>\n        <SiderBar />\n        <Layout className=\"site-layout\">\n          <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n            {\" \"}\n            <Search\n              className=\"search\"\n              placeholder=\"input search text\"\n              enterButton=\"Search\"\n              size=\"large\"\n            />\n            <Button\n              size=\"large\"\n              style={{ float: \"right\", margin: \"10px\" }}\n              onClick={() => app.auth().signOut()}\n              type=\"primary\"\n            >\n              Sign out\n            </Button>\n          </Header>\n          <Content style={{ margin: \"0 16px\" }}>\n            <Breadcrumb style={{ margin: \"16px 0\" }}>\n              <Breadcrumb.Item>User</Breadcrumb.Item>\n              <Breadcrumb.Item>Bill</Breadcrumb.Item>\n            </Breadcrumb>\n            <div\n              className=\"site-layout-background\"\n              style={{ padding: 24, minHeight: 360 }}\n            >\n              {role != null ? (\n                role == true ? (\n                  <div>\n                    <h3>Teacher</h3>\n                    <button onClick={this.generateCode}>Generate code</button>\n                  </div>\n                ) : (\n                  <div>\n                    <h3>Student</h3>\n                  </div>\n                )\n              ) : (\n                \"\"\n              )}\n            </div>\n          </Content>\n          <FooterPage />\n        </Layout>\n      </Layout>\n    );\n  }\n}\n\nexport default Home;\n\n// <Form name=\"dynamic_rule\">\n// <Form.Item\n//   name=\"username\"\n//   label=\"Name\"\n//   rules={[\n//     {\n//       required: true,\n//       message: \"Please input code\",\n//     },\n//   ]}\n// >\n//   <Input\n//     placeholder=\"Please input code\"\n//     value={this.state.someVal || \"\"}\n//     onChange={this.onChange}\n//   />\n// </Form.Item>\n\n// <Form.Item>\n//   <Button\n//     onClick={() => this.addToClass()}\n//     type=\"primary\"\n//   >\n//     Join Class\n//   </Button>\n// </Form.Item>\n// </Form>\n\n// import React, { Component } from \"react\";\n// import { AuthContext } from \"../utils/Auth\";\n// import { app } from \"../utils/base\";\n// import { getUserRole, addClass, joinClass } from \"../utils/Firestore\";\n// import \"antd/dist/antd.css\";\n// import \"./ui.css\";\n// import { Layout, Menu, Breadcrumb, Input, Form, Button } from \"antd\";\n// import {\n//   DesktopOutlined,\n//   PieChartOutlined,\n//   FileOutlined,\n//   TeamOutlined,\n//   UserOutlined,\n// } from \"@ant-design/icons\";\n\n// const { Search } = Input;\n\n// const { Header, Content, Footer, Sider } = Layout;\n// const { SubMenu } = Menu;\n\n// class Home extends Component {\n//   static contextType = AuthContext;\n//   state = {\n//     collapsed: false,\n//     role: null,\n//     value: null,\n//   };\n\n//   generateCode = () => {\n//     const str =\n//       \"qwertyuioplkjhgfdsazxcvbnm1234567890QAZXSWEDCVFRTGBNHYUJMKILOP\";\n//     let genStr = \"\";\n//     for (let i = 0; i < 5; i++) {\n//       const randomIndex = Math.floor(Math.random() * str.length);\n//       genStr += str[randomIndex];\n//     }\n//     addClass(genStr);\n//   };\n\n//   addToClass = () => {\n//     const { currentUser } = this.context;\n//     joinClass(this.state.value, currentUser.uid);\n//   };\n\n//   getRole = async () => {\n//     const { currentUser } = this.context;\n//     const data = await getUserRole(currentUser.uid);\n//     this.setState({ role: data });\n//   };\n\n//   componentDidMount() {\n//     this.getRole();\n//   }\n\n//   onCollapse = (collapsed) => {\n//     console.log(collapsed);\n//     this.setState({ collapsed });\n//   };\n\n//   onChange = (e) => {\n//     this.setState({ value: e.target.value });\n//   };\n\n//   render() {\n//     const { collapsed, role } = this.state;\n//     console.log(role);\n//     return (\n//       <Layout style={{ minHeight: \"100vh\" }}>\n//         <Sider collapsible collapsed={collapsed} onCollapse={this.onCollapse}>\n//           {collapsed ? (\n//             <img className=\"logosmall\" src=\"/logosmall.png\"></img>\n//           ) : (\n//             <img className=\"logo\" src=\"/logo.png\"></img>\n//           )}\n//           <Menu theme=\"dark\" defaultSelectedKeys={[\"1\"]} mode=\"inline\">\n//             <Menu.Item key=\"1\" icon={<PieChartOutlined />}>\n//               Option 1\n//             </Menu.Item>\n//             <Menu.Item key=\"2\" icon={<DesktopOutlined />}>\n//               Option 2\n//             </Menu.Item>\n//             <SubMenu key=\"sub1\" icon={<UserOutlined />} title=\"User\">\n//               <Menu.Item key=\"3\">Tom</Menu.Item>\n//               <Menu.Item key=\"4\">Bill</Menu.Item>\n//               <Menu.Item key=\"5\">Alex</Menu.Item>\n//             </SubMenu>\n//             <SubMenu key=\"sub2\" icon={<TeamOutlined />} title=\"Team\">\n//               <Menu.Item key=\"6\">Team 1</Menu.Item>\n//               <Menu.Item key=\"8\">Team 2</Menu.Item>\n//             </SubMenu>\n//             <Menu.Item key=\"9\" icon={<FileOutlined />}>\n//               bkh\n//             </Menu.Item>\n//           </Menu>\n//         </Sider>\n//         <Layout className=\"site-layout\">\n//           <Header className=\"site-layout-background\" style={{ padding: 0 }}>\n//             {\" \"}\n//             <Search\n//               className=\"search\"\n//               placeholder=\"input search text\"\n//               enterButton=\"Search\"\n//               size=\"large\"\n//             />\n//             <Button\n//               size=\"large\"\n//               style={{ float: \"right\", margin: \"10px\" }}\n//               onClick={() => app.auth().signOut()}\n//               type=\"primary\"\n//             >\n//               Sign out\n//             </Button>\n//           </Header>\n//           <Content style={{ margin: \"0 16px\" }}>\n//             <Breadcrumb style={{ margin: \"16px 0\" }}>\n//               <Breadcrumb.Item>User</Breadcrumb.Item>\n//               <Breadcrumb.Item>Bill</Breadcrumb.Item>\n//             </Breadcrumb>\n//             <div\n//               className=\"site-layout-background\"\n//               style={{ padding: 24, minHeight: 360 }}\n//             >\n//               {role != null ? (\n//                 role == true ? (\n//                   <div>\n//                     <h3>Teacher</h3>\n//                     <button onClick={this.generateCode}>Generate code</button>\n//                   </div>\n//                 ) : (\n//                   <div>\n//                     <h3>Student</h3>\n//                     <Form name=\"dynamic_rule\">\n//                       <Form.Item\n//                         name=\"username\"\n//                         label=\"Name\"\n//                         rules={[\n//                           {\n//                             required: true,\n//                             message: \"Please input code\",\n//                           },\n//                         ]}\n//                       >\n//                         <Input\n//                           placeholder=\"Please input code\"\n//                           value={this.state.someVal || \"\"}\n//                           onChange={this.onChange}\n//                         />\n//                       </Form.Item>\n\n//                       <Form.Item>\n//                         <Button\n//                           onClick={() => this.addToClass()}\n//                           type=\"primary\"\n//                         >\n//                           Join Class\n//                         </Button>\n//                       </Form.Item>\n//                     </Form>\n//                   </div>\n//                 )\n//               ) : (\n//                 \"\"\n//               )}\n//             </div>\n//           </Content>\n//           <Footer style={{ textAlign: \"center\" }}>\n//             Ant Design ©2018 Created by Ant UED\n//           </Footer>\n//         </Layout>\n//       </Layout>\n//     );\n//   }\n// }\n\n// export default Home;\n// const Home = () => {\n//   const { currentUser } = useContext(AuthContext);\n//   const [role, setRole] = useState(null);\n\n//   if (!currentUser) {\n//     return <Redirect to=\"/login\" />;\n//   }\n//   const getData = () => {\n//     setRole(getUserRole(currentUser.uid));\n//   };\n//   getData();\n//   console.log(role);\n//   return (\n//     <>\n//       <h1>Home</h1>\n//       {currentUser.email}\n//       <button onClick={() => app.auth().signOut()}>Sign out</button>\n//     </>\n//   );\n// };\n\n// export default Home;\n"]},"metadata":{},"sourceType":"module"}